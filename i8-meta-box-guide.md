# راهنمای استفاده از متاباکس اختصاصی i8

## معرفی
این متاباکس اختصاصی برای مدیریت انواع مختلف محتوا در سایت طراحی شده است و امکان تعریف متادیتاهای خاص برای هر نوع پست را فراهم می‌کند.

## موقعیت نمایش
متاباکس در سایدبار صفحه ویرایش پست با اولویت بالا نمایش داده می‌شود.

## فیلدهای اصلی (الزامی)

### 1. دسته‌بندی اصلی (i8_main_category)
- نوع: Dropdown
- شامل تمام دسته‌بندی‌های موجود در سایت
- الزامی برای تمام پست‌ها

### 2. نوع پست (i8_post_type)
- نوع: Dropdown
- گزینه‌های موجود:
  - پست ساده (مقدار پیش‌فرض)
  - گزارش تخصصی
  - چندرسانه‌ای
  - نشست تخصصی
  - رویداد
  - انتشارات
  - دوره آموزشی

## فیلدهای شرطی

### پست ساده
بدون فیلد اضافی

### گزارش تخصصی
- **i8_report_pdf**: آدرس فایل PDF
- **i8_report_word**: آدرس فایل Word

### چندرسانه‌ای
- **i8_media_duration**: مدت زمان محتوا
- **i8_media_url**: آدرس ویدیو
- **i8_media_embed**: کد امبد

### نشست تخصصی
- **i8_session_field**: حوزه تخصصی
- **i8_session_date**: تاریخ برگزاری
- **i8_session_host**: نام میزبان
- **i8_session_position**: سمت میزبان

### رویداد
- **i8_event_date_month**: ماه برگزاری
- **i8_event_date_day**: روز برگزاری
- **i8_event_location**: مکان برگزاری

### انتشارات
- **i8_publication_author**: نام نویسنده

### دوره آموزشی
- **i8_course_instructor**: نام مدرس
- **i8_course_date**: تاریخ برگزاری

## توابع کمکی

### دریافت نوع پست
```php
$post_type = i8_get_post_type( $post_id );
$post_type_label = i8_get_post_type_label( $post_id );
```

### دریافت دسته‌بندی اصلی
```php
$main_category = i8_get_post_main_category( $post_id );
```

### دریافت متادیتا
```php
$meta_value = i8_get_meta( 'meta_key', $post_id );
```

### بررسی نوع پست
```php
if ( i8_is_post_type( 'report', $post_id ) ) {
    // کدهای مربوط به گزارش تخصصی
}
```

## نمایش در قالب

برای نمایش متادیتاها در قالب، می‌توانید از فایل `template-parts/post-meta-display.php` استفاده کنید:

```php
<?php get_template_part( 'template-parts/post-meta-display' ); ?>
```

## نکات مهم

1. تمامی نام‌های متا با پیشوند `i8_` شروع می‌شوند
2. فیلدهای شرطی به صورت پویا بر اساس نوع پست انتخاب شده نمایش داده می‌شوند
3. تمامی داده‌ها قبل از ذخیره sanitize می‌شوند
4. امنیت با استفاده از nonce و بررسی دسترسی کاربر تضمین شده است

## استایل‌دهی

متاباکس دارای استایل‌های inline است که با ظاهر WordPress سازگار است. برای سفارشی‌سازی بیشتر، می‌توانید CSS اضافی در فایل‌های قالب اضافه کنید.